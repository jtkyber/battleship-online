{"version":3,"sources":["model.js","components/boards/Board.js","components/ships/Ships.js","components/boards/UserBoard.js","components/boards/OpponentBoard.js","components/navigation/msg-icon.png","components/navigation/FriendRequests.js","components/navigation/Navigation.js","components/boards/ChatBox.js","components/footer/Footer.js","components/boards/Game.js","components/homeBoard/HomeBoard.js","components/findMatch/FindMatch.js","components/friends/SingleFriend.js","components/friends/Friends.js","components/friends/FriendsHome.js","components/logReg/Login.js","components/logReg/Register.js","components/leaderboard/Leaderboard.js","socket/socketImport.js","App.js","reportWebVitals.js","index.js"],"names":["model","stored","persist","storage","route","user","username","wins","currentSocket","friendSocket","opponentName","unsortedFriends","findMatchInterval","checkOppStatusInterval","search","friendRequests","userName","password","topFive","allFriends","friendFilter","friendSearch","friendsOnline","gameRoute","playerIsReady","opponentIsReady","yourTurn","chatText","inviteSent","inviteReceived","setRoute","action","state","input","setUser","setCurrentSocket","setFriendSocket","setOpponentName","setUnsortedFriends","setFindMatchInterval","setCheckOppStatusInterval","setSearch","setFriendRequests","setUserName","setPassword","setTopFive","setAllFriends","setFriendsFilter","setFriendSearch","setFriendsOnline","setGameRoute","setPlayerIsReady","setOpponentIsReady","setYourTurn","setChatText","setInviteSent","setInviteReceived","AssembleBoard","onSquareClicked","useStoreState","allSquares","i","j","push","row","String","fromCharCode","col","colStart","rowStart","handleSquareClick","e","parentBoard","target","parentElement","classList","contains","map","square","onClick","style","gridArea","className","id","Ships","rotating","orientation","selectedShip","selectedShipName","shipIsSelected","setManualGridLocation","onShipSelect","userBoard","document","querySelector","cursor","zIndex","border","parseInt","offsetWidth","offsetHeight","collisionDetection","item1","item2","d1Offset","$","offset","d1Height","outerHeight","d1Width","outerWidth","d1Top","top","d1Left","left","d2Offset","d2Height","d2Width","d2Top","d2Left","addEventListener","areaIsClear","ships","querySelectorAll","ship","console","log","window","oncontextmenu","transform","keyCode","preventDefault","undefined","onmouseover","userGrid","childShip","targetId","substring","indexOf","length","remove","gridColumn","gridRow","add","UserBoard","socket","useStoreActions","actions","shipHit","useEffect","on","shot","oppShot","getElementById","applyHitOrMiss","off","hit","matchOppShotToBoard","emit","shotSquare","socketid","Board","OpponentBoard","hitSquares","data","clickedSquare","result","count","countHitsOnShip","squares","FriendRequests","updateRequests","a","navBar","fetch","res","ok","Error","json","requests","setProperty","split","removeRequest","friend","newRequestList","newRequestListArray","index","splice","join","method","headers","body","JSON","stringify","requestlist","res2","onRemoveRequest","addFriend","value","friendList","friendArray","friendlistOfFriends","friendSocketId","user1","friendlistOfFriendsArray","friends","includes","forEach","f","friendlist","res3","allF","response","name","status","friendname","res4","addFriendStart","Dropdown","Toggle","variant","src","msgIcon","alt","Menu","request","Navigation","onRouteChange","handleExitClick","ChatBox","chatBox","handleEnterBtn","message","handleReceivedMessage","removeEventListener","msgNode","createElement","textNode","nameNode","text","createTextNode","appendChild","scrollTop","scrollHeight","onChange","type","placeholder","Footer","Game","addWin","setTimeout","alert","setInterval","checkIfOpponentIsOnline","clearInterval","gameInstructions","score","friendIsOnline","onlineFriends","readyBtn","opacity","HomeBoard","FindMatch","senderName","senderSocket","searchForMatch","stopSearching","updateSearching","match","receiverSocket","SingleFriend","handleInvite","btn","disabled","childNodes","nodeValue","sendInvite","innerHTML","acceptInvite","Friends","showOnlineStatusToFriends","setFriendFilter","fetchFriends","getOnlineFriends","timer","sortFriends","offlineFriends","justAdded","addFriendToOffline","olF","concat","sendFriendRequest","friendAlert","friendName","friendsRequests","friendsRequestsArray","friendrequests","toLowerCase","FriendsHome","Login","loadUser","login","onSubmitLogin","Register","register","then","Leaderboard","getTopPlayers","tempArr","player","io","App","removeUserSocket","updateLastOnline","myInterval","response1","show","returnValue","onkeydown","loginBtn","registerBtn","logUsername","registerUsername","logPassword","registerPassword","friendRequestBtn","code","click","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","store","createStore","ReactDOM","render"],"mappings":"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","file":"static/js/main.49f57028.chunk.js","sourcesContent":["import { action, persist } from 'easy-peasy';\r\n\r\nconst model = {\r\n\r\n    //State\r\n\r\n    stored: persist(\r\n        {\r\n            \r\n        },\r\n        {\r\n            storage: 'localStorage',\r\n        }\r\n\r\n    ),\r\n\r\n    route: 'login',\r\n    user: {\r\n        username: '',\r\n        wins: 0\r\n    },\r\n    currentSocket: null,\r\n    friendSocket: null,\r\n    opponentName: '',\r\n    unsortedFriends: [],\r\n    findMatchInterval: 0,\r\n    checkOppStatusInterval: 0,\r\n    search: false,\r\n    friendRequests: [],\r\n    userName: '',\r\n    password: '',\r\n    topFive: [],\r\n    allFriends: [],\r\n    friendFilter: '',\r\n    friendSearch: '',\r\n    friendsOnline: [],\r\n    gameRoute: 'placeShips',\r\n    playerIsReady: false,\r\n    opponentIsReady: false,\r\n    yourTurn: false,\r\n    chatText: '',\r\n    inviteSent: false,\r\n    inviteReceived: false,\r\n\r\n    //Actions\r\n\r\n    setRoute: action((state, input) => {\r\n        state.route = input;\r\n    }),\r\n\r\n    setUser: action((state, input) => {\r\n        state.user = input;\r\n    }),\r\n\r\n    setCurrentSocket: action((state, input) => {\r\n        state.currentSocket = input;\r\n    }),\r\n\r\n    setFriendSocket: action((state, input) => {\r\n        state.friendSocket = input;\r\n    }),\r\n\r\n    setOpponentName: action((state, input) => {\r\n        state.opponentName = input;\r\n    }),\r\n\r\n    setUnsortedFriends: action((state, input) => {\r\n        state.unsortedFriends = input;\r\n    }),\r\n\r\n    setFindMatchInterval: action((state, input) => {\r\n        state.findMatchInterval = input;\r\n    }),\r\n\r\n    setCheckOppStatusInterval: action((state, input) => {\r\n        state.checkOppStatusInterval = input;\r\n    }),\r\n\r\n    setSearch: action((state, input) => {\r\n        state.search = input;\r\n    }),\r\n\r\n    setFriendRequests: action((state, input) => {\r\n        state.friendRequests = input;\r\n    }),\r\n\r\n    setUserName: action((state, input) => {\r\n        state.userName = input;\r\n    }),\r\n\r\n    setPassword: action((state, input) => {\r\n        state.password = input;\r\n    }),\r\n\r\n    setTopFive: action((state, input) => {\r\n        state.topFive = input;\r\n    }),\r\n\r\n    setAllFriends: action((state, input) => {\r\n        state.allFriends = input;\r\n    }),\r\n\r\n    setFriendsFilter: action((state, input) => {\r\n        state.friendFilter = input;\r\n    }),\r\n\r\n    setFriendSearch: action((state, input) => {\r\n        state.friendSearch = input;\r\n    }),\r\n\r\n    setFriendsOnline: action((state, input) => {\r\n        state.friendsOnline = input;\r\n    }),\r\n\r\n    setGameRoute: action((state, input) => {\r\n        state.gameRoute = input;\r\n    }),\r\n    \r\n    setPlayerIsReady: action((state, input) => {\r\n        state.playerIsReady = input;\r\n    }),\r\n\r\n    setOpponentIsReady: action((state, input) => {\r\n        state.opponentIsReady = input;\r\n    }),\r\n\r\n    setYourTurn: action((state, input) => {\r\n        state.yourTurn = input;\r\n    }),\r\n\r\n    setChatText: action((state, input) => {\r\n        state.chatText = input;\r\n    }),\r\n\r\n    setInviteSent: action((state, input) => {\r\n        state.inviteSent = input;\r\n    }),\r\n\r\n    setInviteReceived: action((state, input) => {\r\n        state.inviteReceived = input;\r\n    }),\r\n}\r\n\r\nexport default model;","import React from 'react';\r\nimport { useStoreState } from 'easy-peasy';\r\n\r\nimport './board.css';\r\n\r\nconst AssembleBoard = ({ onSquareClicked }) => {\r\n\r\n    const { gameRoute } = useStoreState(state => ({\r\n        gameRoute: state.gameRoute,\r\n        route: state.route\r\n    }));\r\n\r\n    const allSquares = [];\r\n    for (let i = 1; i < 11; i++) {\r\n        for (let j = 0; j < 10; j++) {\r\n            allSquares.push({row: String.fromCharCode(97 + j), col: i, colStart: i, rowStart: j + 1})\r\n        }\r\n    }\r\n\r\n    const handleSquareClick = (e) => {\r\n        const parentBoard = e.target.parentElement.parentElement.parentElement;\r\n        if (gameRoute === 'gameInProgress' && parentBoard.classList.contains('opponentBoard')) {\r\n            onSquareClicked(e);\r\n        }\r\n    }\r\n\r\n    return (\r\n        allSquares.map(square => {\r\n            return (\r\n                <div\r\n                    onClick={handleSquareClick}\r\n                    style={{gridArea: square.row + square.col}}\r\n                    className={'singleSquare ' + square.row + ' ' + square.row + square.col}\r\n                    key={square.row + square.col}\r\n                    id={square.colStart + '-' + square.rowStart}\r\n                >\r\n                </div>\r\n            )\r\n        })\r\n    )\r\n}\r\n\r\nexport default AssembleBoard;\r\n","import { useStoreState } from 'easy-peasy';\r\nimport $ from 'jquery';\r\nimport './ships.css';\r\nimport '../boards/board.css';\r\n\r\nconst Ships = () => {\r\n\r\n    const { gameRoute } = useStoreState(state => ({\r\n        gameRoute: state.gameRoute\r\n    }));\r\n\r\n    let rotating = false;\r\n    let orientation = 'hor';\r\n    let selectedShip = '';\r\n    let selectedShipName = '';\r\n    let shipIsSelected = false;\r\n    let setManualGridLocation = false;\r\n\r\n    // Decide what happens when a ship is selected to move\r\n\r\n    const onShipSelect = (e) => {\r\n        if (!shipIsSelected && gameRoute === 'placeShips') {\r\n            const userBoard = document.querySelector('.userBoard');\r\n            shipIsSelected = true;\r\n            selectedShip = e.target.parentElement;\r\n            userBoard.style.cursor = 'pointer';\r\n            selectedShip.style.zIndex = '-2';\r\n            // selectedShip.style.backgroundColor = 'rgba(0,0,0,0.2)';\r\n            selectedShip.style.border = '2px solid rgba(0, 250, 0, 0.5)';\r\n\r\n            if (parseInt(e.target.parentElement.offsetWidth) > parseInt(e.target.parentElement.offsetHeight)) {\r\n                orientation = 'hor';\r\n            } else if (parseInt(e.target.parentElement.offsetHeight) > parseInt(e.target.parentElement.offsetWidth)) {\r\n                orientation = 'vert';\r\n            }\r\n\r\n            if (selectedShip.classList.contains('carrier')) {\r\n                selectedShipName = 'carrier';\r\n            } else if (selectedShip.classList.contains('battleship')) {\r\n                selectedShipName = 'battleship';\r\n            } else if (selectedShip.classList.contains('cruiser')) {\r\n                selectedShipName = 'cruiser';\r\n            } else if (selectedShip.classList.contains('submarine')) {\r\n                selectedShipName = 'submarine';\r\n            } else if (selectedShip.classList.contains('destroyer')) {\r\n                selectedShipName = 'destroyer';\r\n            }\r\n        }\r\n    }\r\n\r\n    // collision detection\r\n\r\n    const collisionDetection = (item1, item2) => {\r\n        let d1Offset = $(item1).offset();\r\n        let d1Height = $(item1).outerHeight(true);\r\n        let d1Width = $(item1).outerWidth(true);\r\n        let d1Top = d1Offset.top + d1Height;\r\n        let d1Left = d1Offset.left + d1Width;\r\n        let d2Offset = $(item2).offset();\r\n        let d2Height = $(item2).outerHeight(true);\r\n        let d2Width = $(item2).outerWidth(true);\r\n        let d2Top = d2Offset.top + d2Height;\r\n        let d2Left = d2Offset.left + d2Width;\r\n\r\n        const colliding = !(d1Top <= d2Offset.top + 2 || d1Offset.top >= d2Top - 2 || d1Left <= d2Offset.left + 2 || d1Offset.left >= d2Left - 2);\r\n\r\n        return colliding;\r\n    }\r\n\r\n    // Place a ship down that is currently selected\r\n\r\n    document.addEventListener('click', e => {\r\n        if (shipIsSelected && e.target.classList.contains('singleSquare') && rotating === false && areaIsClear()) {\r\n            selectedShip.style.zIndex = '3';\r\n            document.querySelector('.userBoard').style.cursor = 'default';\r\n            // selectedShip.style.backgroundColor = null;\r\n            selectedShip.style.border = null;\r\n            shipIsSelected = false;\r\n        }\r\n    })\r\n\r\n    // Locate opponents shot on user board\r\n\r\n    // const matchOppShotToBoard = () => {\r\n    //     if\r\n    // }\r\n\r\n    // Check to see if player is placing the ship in an open space\r\n\r\n    const areaIsClear = () => {\r\n        const ships = document.querySelectorAll('.ship');\r\n         for (let ship of ships) {\r\n            if (!ship.classList.contains(selectedShipName) && collisionDetection(selectedShip, ship)) {\r\n                console.log(ship.className);\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    // Rotate the selected ship by right-clicking\r\n\r\n    window.oncontextmenu = (e) => {\r\n         if (shipIsSelected) {\r\n            if (orientation === 'hor') {\r\n                selectedShip.style.transform = 'rotate(-90deg)';\r\n                orientation = 'vert';\r\n            } else if (orientation === 'vert') {\r\n                selectedShip.style.transform = 'rotate(0deg)';\r\n                orientation = 'hor';\r\n            }\r\n            setManualGridLocation = true;\r\n            rotating = true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    // Decide what happens on various key-press events\r\n\r\n    document.addEventListener('keydown', (e) => {\r\n        if (e.keyCode === 13) {\r\n            e.preventDefault();\r\n        }\r\n        // Rotate the selected ship by pressing the 'space' key\r\n\r\n        if (e.keyCode === 32 && selectedShip.style !== undefined && shipIsSelected) {\r\n            if (orientation === 'hor') {\r\n                selectedShip.style.transform = 'rotate(-90deg)';\r\n                orientation = 'vert';\r\n            } else if (orientation === 'vert') {\r\n                selectedShip.style.transform = 'rotate(0deg)';\r\n                orientation = 'hor';\r\n            }\r\n            setManualGridLocation = true;\r\n            rotating = true;\r\n        }\r\n    })\r\n\r\n    // Change the grid-row and grid-column of the selected ship mouse is over the user's board\r\n\r\n    window.onmouseover = (e) => {\r\n        // const sub = document.querySelector(`.submarine`);\r\n        if (shipIsSelected) {\r\n            rotating = false;\r\n            selectedShip.style.transform = null;\r\n            const userGrid = document.querySelector('.userBoard');\r\n            const childShip = document.querySelector(`.${selectedShipName}Icon`);\r\n            const targetId = e.target.id;\r\n            const colStart = targetId.substring(0, targetId.indexOf('-'));\r\n            const rowStart = targetId.substring((targetId.indexOf('-') + 1), targetId.length);\r\n\r\n\r\n            if (userGrid.contains(e.target)\r\n            && (e.target.classList.contains('singleSquare'))\r\n            && shipIsSelected === true) {\r\n                if (orientation === 'hor') {\r\n                    childShip.classList.remove(`rotate-${selectedShipName}`);\r\n                    if (colStart < (11 - parseInt(selectedShip.id) + 1)) {\r\n                        selectedShip.style.gridColumn = `${colStart} / ${parseInt(colStart) + parseInt(selectedShip.id)}`;\r\n                    } else if (colStart >= (11 - parseInt(selectedShip.id) + 1) && setManualGridLocation === true) {\r\n                        selectedShip.style.gridColumn = `11 / ${11 - parseInt(selectedShip.id)}`;\r\n                    } else setManualGridLocation = false;\r\n                    selectedShip.style.gridRow = `${rowStart} / ${parseInt(rowStart) + 1}`;\r\n                } else if (orientation === 'vert') {\r\n                    childShip.classList.add(`rotate-${selectedShipName}`);\r\n                    if (rowStart > (parseInt(selectedShip.id) - 1)) {\r\n                        selectedShip.style.gridRow = `${parseInt(rowStart) + 1} / ${parseInt(rowStart) - parseInt(selectedShip.id) + 1}`;\r\n                    } else if (rowStart <= (parseInt(selectedShip.id) - 1) && setManualGridLocation === true) {\r\n                        selectedShip.style.gridRow = `${parseInt(selectedShip.id) + 1} / 1`;\r\n                    } else setManualGridLocation = false;\r\n                    selectedShip.style.gridColumn = `${colStart} / ${parseInt(colStart) + 1}`;\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div id='5' className='ship carrier'><div onClick={onShipSelect} className='carrierIcon'></div></div>\r\n\r\n            <div id='4' className='ship battleship'><div onClick={onShipSelect} className='battleshipIcon'></div></div>\r\n\r\n            <div id='3' className='ship cruiser'><div onClick={onShipSelect} className='cruiserIcon'></div></div>\r\n\r\n            <div id='3' className='ship submarine'><div onClick={onShipSelect} className='submarineIcon'></div></div>\r\n\r\n            <div id='2' className='ship destroyer'><div onClick={onShipSelect} className='destroyerIcon'></div></div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Ships;\r\n","import React, { useEffect } from 'react';\r\nimport { useStoreState, useStoreActions } from 'easy-peasy';\r\nimport Board from './Board';\r\nimport Ships from '../ships/Ships';\r\n// import useSound from 'use-sound';\r\n// import hitMissSounds from './hit-miss-sounds.mp3';\r\nimport $ from 'jquery';\r\nimport './board.css';\r\n\r\nconst UserBoard = ({ socket }) => {\r\n\r\n    const { gameRoute, friendSocket, route } = useStoreState(state => ({\r\n        gameRoute: state.gameRoute,\r\n        friendSocket: state.friendSocket,\r\n        route: state.route\r\n    }));\r\n\r\n    const { setYourTurn } = useStoreActions(actions => ({\r\n        setYourTurn: actions.setYourTurn\r\n    }));\r\n\r\n    let shipHit = '';\r\n    // const [play] = useSound(hitMissSounds, {\r\n    //     soundEnabled: true,\r\n    //     volume: 0.5,\r\n    //     sprite: {\r\n    //         miss: [1, 2000],\r\n    //         hit: [2001, 1500]\r\n    //     }\r\n    // });\r\n    useEffect(() => {\r\n        socket.on('receive shot', shot => {\r\n            const oppShot = document.getElementById(shot);\r\n            applyHitOrMiss(oppShot);\r\n            setYourTurn(true);\r\n        })\r\n\r\n        return () => {\r\n            socket.off('receive shot');\r\n        }\r\n    },[])\r\n\r\n    const hit = (item1, item2) => {\r\n        let d1Offset = $(item1).offset();\r\n        let d1Height = $(item1).outerHeight(true);\r\n        let d1Width = $(item1).outerWidth(true);\r\n        let d1Top = d1Offset.top + d1Height;\r\n        let d1Left = d1Offset.left + d1Width;\r\n        let d2Offset = $(item2).offset();\r\n        let d2Height = $(item2).outerHeight(true);\r\n        let d2Width = $(item2).outerWidth(true);\r\n        let d2Top = d2Offset.top + d2Height;\r\n        let d2Left = d2Offset.left + d2Width;\r\n\r\n        const colliding = !(d1Top <= d2Offset.top + 2 || d1Offset.top >= d2Top - 2 || d1Left <= d2Offset.left + 2 || d1Offset.left >= d2Left - 2);\r\n\r\n        return colliding;\r\n    }\r\n\r\n    const applyHitOrMiss = (oppShot) => {\r\n        if (matchOppShotToBoard(oppShot)) {\r\n            // play({id: 'hit'});\r\n            // setTimeout(() => {\r\n                oppShot.classList.add('hit');\r\n            // }, 300)\r\n            socket.emit('send result to opponent board', {shotSquare: oppShot.id, shot: 'hit', socketid: friendSocket, shipHit: shipHit});\r\n        } else {\r\n            // play({id: 'miss'});\r\n            // setTimeout(() => {\r\n                oppShot.classList.add('miss');\r\n            // }, 300)\r\n            socket.emit('send result to opponent board', {shotSquare: oppShot.id, shot: 'miss', socketid: friendSocket, shipHit: shipHit});\r\n        }\r\n    }\r\n\r\n    const matchOppShotToBoard = (shot) => {\r\n        const ships = document.querySelectorAll('.ship');\r\n        for (let ship of ships) {\r\n            if (hit(shot, ship)) {\r\n                shipHit = ship.classList[1];\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    return (\r\n        <div className='board userBoard'>\r\n            <div className='rows'>\r\n                <h3>A</h3>\r\n                <h3>B</h3>\r\n                <h3>C</h3>\r\n                <h3>D</h3>\r\n                <h3>E</h3>\r\n                <h3>F</h3>\r\n                <h3>G</h3>\r\n                <h3>H</h3>\r\n                <h3>I</h3>\r\n                <h3>J</h3>\r\n            </div>\r\n\r\n            <div className='cols'>\r\n                <h3>1</h3>\r\n                <h3>2</h3>\r\n                <h3>3</h3>\r\n                <h3>4</h3>\r\n                <h3>5</h3>\r\n                <h3>6</h3>\r\n                <h3>7</h3>\r\n                <h3>8</h3>\r\n                <h3>9</h3>\r\n                <h3>10</h3>\r\n            </div>\r\n\r\n            <div className='grid'>\r\n                <div className='allSqaures'>\r\n                    <Board gameRoute={gameRoute} />\r\n                    <Ships gameRoute={gameRoute} route={route}/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserBoard;\r\n\r\n","import React, { useEffect } from 'react';\r\nimport { useStoreState, useStoreActions } from 'easy-peasy';\r\nimport Board from './Board';\r\nimport './board.css';\r\n\r\nconst OpponentBoard = ({ socket }) => {\r\n\r\n    const { gameRoute, friendSocket, route, yourTurn } = useStoreState(state => ({\r\n        gameRoute: state.gameRoute,\r\n        friendSocket: state.friendSocket,\r\n        route: state.route,\r\n        yourTurn: state.yourTurn\r\n    }));\r\n\r\n    const { setYourTurn } = useStoreActions(actions => ({\r\n        setYourTurn: actions.setYourTurn\r\n    }));\r\n    \r\n    \r\n    const hitSquares = [];\r\n    const countHitsOnShip = (ship) => {\r\n        let count = 0;\r\n        for (let hit of hitSquares) {\r\n            if (hit === ship) {\r\n                count += 1;\r\n            }\r\n        }\r\n        return count;\r\n    }\r\n\r\n    useEffect(() => {\r\n        socket.on('show result on opponent board', data => {\r\n            const clickedSquare = document.querySelector(`.opponentBoard [id='${data.shotSquare}']`);\r\n            if (data.result === 'hit' && clickedSquare.classList !== undefined) {\r\n                clickedSquare.classList.add('hit');\r\n                hitSquares.push(data.shipHit);\r\n                clickedSquare.classList.add(`_${data.shipHit}`)\r\n                if (countHitsOnShip(data.shipHit) === parseInt(document.querySelector(`.${data.shipHit}`).id)) {\r\n                    const squares = document.querySelectorAll('.singleSquare');\r\n                    for (let square of squares) {\r\n                        if (square.classList.contains(`_${data.shipHit}`)) {\r\n                            square.classList.add('shipSunk');\r\n                        }\r\n                    }\r\n                }\r\n            } else if (data.result === 'miss' && clickedSquare.classList !== undefined) {\r\n                clickedSquare.classList.add('miss');\r\n            }\r\n        })\r\n\r\n        return () => {\r\n            socket.off('show result on opponent board');\r\n        }\r\n    },[])\r\n\r\n    const onSquareClicked = (e) => {\r\n        if (yourTurn && !e.target.classList.contains('hit') && !e.target.classList.contains('miss')) {\r\n            // setSquareClicked(e.target);\r\n            socket.emit('send shot to opponent', {target: e.target.id, socketid: friendSocket});\r\n            setYourTurn(false);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className='board opponentBoard'>\r\n            <div className='rows'>\r\n                <h3>A</h3>\r\n                <h3>B</h3>\r\n                <h3>C</h3>\r\n                <h3>D</h3>\r\n                <h3>E</h3>\r\n                <h3>F</h3>\r\n                <h3>G</h3>\r\n                <h3>H</h3>\r\n                <h3>I</h3>\r\n                <h3>J</h3>\r\n            </div>\r\n\r\n            <div className='cols'>\r\n                <h3>1</h3>\r\n                <h3>2</h3>\r\n                <h3>3</h3>\r\n                <h3>4</h3>\r\n                <h3>5</h3>\r\n                <h3>6</h3>\r\n                <h3>7</h3>\r\n                <h3>8</h3>\r\n                <h3>9</h3>\r\n                <h3>10</h3>\r\n            </div>\r\n\r\n            <div className='grid'>\r\n                <div className='allSqaures'>\r\n                    <Board gameRoute={gameRoute} route={route} onSquareClicked={onSquareClicked} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default OpponentBoard;\r\n\r\n","export default __webpack_public_path__ + \"static/media/msg-icon.b63e7a13.png\";","import React, { useEffect } from 'react';\r\nimport { useStoreState, useStoreActions } from 'easy-peasy';\r\nimport './navigation.css';\r\nimport msgIcon from './msg-icon.png';\r\nimport { Dropdown } from 'react-bootstrap';\r\n\r\nconst FriendRequests = ({ socket }) => {\r\n\r\n    const { user, friendRequests } = useStoreState(state => ({\r\n        user: state.user,\r\n        friendRequests: state.friendRequests\r\n    }));\r\n\r\n    const { setUnsortedFriends, setFriendRequests } = useStoreActions(actions => ({\r\n        setUnsortedFriends: actions.setUnsortedFriends,\r\n        setFriendRequests: actions.setFriendRequests\r\n    }));\r\n\r\n    useEffect(() => {\r\n        updateRequests();\r\n\r\n        socket.on('receive friend request', () => {\r\n            updateRequests();\r\n        })\r\n\r\n        return () => {\r\n            socket.off('receive friend request');\r\n        }\r\n    },[])\r\n\r\n    const updateRequests = async () => {\r\n        const navBar = document.querySelector('nav');\r\n        try {\r\n            const res = await fetch(`https://calm-ridge-60009.herokuapp.com/getFriendRequests?username=${user.username}`);\r\n            if (!res.ok) {\r\n                throw new Error('Could not get friend requests')\r\n            }\r\n            const requests = await res.json();\r\n            if (requests !== null && requests !== '') {\r\n                navBar.style.setProperty('--notification-color', 'rgba(255,0,0,0.8)');\r\n                setFriendRequests(requests.split(','));\r\n            } else {\r\n                navBar.style.setProperty('--notification-color', 'transparent');\r\n                setFriendRequests(null);\r\n            }\r\n        } catch(err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n\r\n    const removeRequest = async (friend) => {\r\n        let newRequestList = '';\r\n        try {\r\n            const res = await fetch(`https://calm-ridge-60009.herokuapp.com/getFriendRequests?username=${user.username}`);\r\n            if (!res.ok) {\r\n                throw new Error('Could not get friend requests')\r\n            }\r\n            const requests = await res.json();\r\n            if (requests !== null && requests !== '') {\r\n                const newRequestListArray = requests.split(',');\r\n                if (newRequestListArray.length <= 1) {\r\n                    newRequestList = null;\r\n                } else {\r\n                    const index = newRequestListArray.indexOf(friend);\r\n                    if (index > -1) {\r\n                        newRequestListArray.splice(index, 1);\r\n                        newRequestList = newRequestListArray.join(',');\r\n                    }\r\n                }\r\n            }\r\n\r\n            const res2 = await fetch('https://calm-ridge-60009.herokuapp.com/updateFriendRequests', {\r\n                method: 'put',\r\n                    headers: {'Content-Type': 'application/json'},\r\n                    body: JSON.stringify({\r\n                        requestlist: newRequestList,\r\n                        username: user.username\r\n                    })\r\n            });\r\n            if (!res2.ok) {\r\n                throw new Error('Could not update friend requests');\r\n            }\r\n            const userRemoved = await res2.json();\r\n            if (userRemoved) {\r\n                updateRequests();\r\n            }\r\n        } catch(err) {\r\n            console.log(err);\r\n        }\r\n    }\r\n\r\n    const onRemoveRequest = (e) => {\r\n        removeRequest(e.target.id);\r\n    }\r\n\r\n     const addFriend = async (friend) => {\r\n        console.log('friend added');\r\n        document.querySelector('.addFriendInput').value = '';\r\n        let friendList = '';\r\n        let friendArray = [];\r\n        let friendlistOfFriends = '';\r\n        let friendSocketId = '';\r\n//-----------------------------------------------------------------------------------\r\n        // Search the database to check if the name matches any users in the databse\r\n//-----------------------------------------------------------------------------------\r\n        try {\r\n            const res = await fetch(`https://calm-ridge-60009.herokuapp.com/findFriend?username=${friend}`);\r\n            if (!res.ok) {\r\n                throw new Error('User does not exist')\r\n            }\r\n            const user1 = await res.json();\r\n            if (user.username === user.username) {\r\n                throw new Error('Cannot add self as friend')\r\n            } else if (user1.username) {\r\n                let friendlistOfFriendsArray = [];\r\n                friendSocketId = user1.socketid;\r\n                if (user1.friends !== null && user1.friends !== '') {\r\n                    friendlistOfFriendsArray = user1.friends.split(',');\r\n                    if (friendlistOfFriendsArray.includes(user.username)) {\r\n                        throw new Error('You are already a friend of the user');\r\n                    }\r\n                }\r\n                friendlistOfFriendsArray.push(user.username);\r\n                if (friendlistOfFriendsArray.length > 1) {\r\n                    friendlistOfFriends = friendlistOfFriendsArray.join(',');\r\n                } else {\r\n                    friendlistOfFriends = friendlistOfFriendsArray[0];\r\n                }\r\n    //-----------------------------------------------------------------------------------\r\n                // If friend exists, grab the user's friend list string\r\n                // Make a temporary string and array with the new friend\r\n    //-----------------------------------------------------------------------------------\r\n                const res2 = await fetch(`https://calm-ridge-60009.herokuapp.com/getFriends?username=${user.username}`)\r\n                if (!res2.ok) {throw new Error('Problem accessing friends list')}\r\n                const friends = await res2.json();\r\n                if (friends.length) {\r\n                    friends.forEach(f => {\r\n                        if (f.username === friend) {\r\n                            throw new Error('User already your friend');\r\n                        }\r\n                    })\r\n                }\r\n                friendArray.push(friend);\r\n                friendList = friendArray.join(',');\r\n\r\n    //-----------------------------------------------------------------------------------\r\n                // Update the user's friend list with the new friends string\r\n                // Pass the updated friends array to 'fetchFriendData'\r\n    //-----------------------------------------------------------------------------------\r\n                const res3 = await fetch('https://calm-ridge-60009.herokuapp.com/addFriend', {\r\n                    method: 'put',\r\n                    headers: {'Content-Type': 'application/json'},\r\n                    body: JSON.stringify({\r\n                        username: user.username,\r\n                        friendlist: friendList\r\n                    })\r\n                })\r\n                if (!res3.ok) {throw new Error('Problem adding friend')}\r\n                const userAdded = await res3.json();\r\n                if (userAdded) {\r\n                    let allF = [];\r\n                    for (let friend of friendArray) {\r\n                        try {\r\n                            const response = await fetch(`https://calm-ridge-60009.herokuapp.com/findFriend?username=${friend}`);\r\n                            if (!response.ok) {throw new Error('User does not exist')}\r\n                            const user1 = await response.json();\r\n                            if (user1.socketid) {\r\n                                allF.push({name: user1.username, status: 'online'})\r\n                            } else {\r\n                                allF.push({name: user1.username, status: 'offline'})\r\n                            }\r\n                        } catch(err) {\r\n                            console.log(err);\r\n                        }\r\n                    }\r\n                    setUnsortedFriends(allF);\r\n                }\r\n                const res4 = await fetch('https://calm-ridge-60009.herokuapp.com/addSelfToFriend', {\r\n                    method: 'put',\r\n                    headers: {'Content-Type': 'application/json'},\r\n                    body: JSON.stringify({\r\n                        friendlist: friendlistOfFriends,\r\n                        friendname: friend\r\n                    })\r\n                })\r\n                if (!res4.ok) {throw new Error('Problem adding self to friendlist of friend')}\r\n                const selfAdded = await res4.json();\r\n                if (selfAdded && friendSocketId !== null) {\r\n                    socket.emit('update user status', friendSocketId);\r\n                }\r\n            }\r\n        } catch(err) {\r\n            console.log(err);\r\n        }\r\n    }\r\n\r\n    const addFriendStart = async (e) => {\r\n        try {\r\n            const res = await fetch(`https://calm-ridge-60009.herokuapp.com/findFriend?username=${e.target.id}`);\r\n            if (!res.ok) {\r\n                throw new Error('User does not exist')\r\n            }\r\n            const user1 = await res.json();\r\n            if (user1.username) {\r\n                removeRequest(e.target.id);\r\n                // socket.emit('send add friend', {socketid: user.socketid, user: username})\r\n                addFriend(e.target.id);\r\n                // Can't add friend if their offline   FIX\r\n            }\r\n        } catch(err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Dropdown className='dropdown'>\r\n              <Dropdown.Toggle variant=\"success\" className='messageToggle' id=\"dropdown-basic\"><img src={msgIcon} alt='Message Icon' /></Dropdown.Toggle>\r\n              <Dropdown.Menu id='dropdowns'>\r\n              {\r\n                friendRequests !== null\r\n                ?\r\n                  friendRequests.map(request => {\r\n                    return (\r\n                        <div key={request} className='dropdownItem'>\r\n                            <div className='text'>Friend request from <h3 className=\"requesterName\">{request}</h3></div>\r\n                            <div>\r\n                                <button onClick={addFriendStart} id={request} className='acceptInvite'>Accept</button>\r\n                                <button onClick={onRemoveRequest} id={request} className='rejectInvite'>Reject</button>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                  })\r\n                  : (null)\r\n              }\r\n              </Dropdown.Menu>\r\n            </Dropdown>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default FriendRequests;\r\n","import React from 'react';\r\nimport { useStoreState, useStoreActions } from 'easy-peasy';\r\nimport FriendRequests from './FriendRequests';\r\nimport './navigation.css';\r\n\r\nconst Navigation = ({ socket, onRouteChange }) => {\r\n\r\n    const { friendSocket, user, route} = useStoreState(state => ({\r\n        friendSocket: state.friendSocket,\r\n        user: state.user,\r\n        route: state.route\r\n    }));\r\n\r\n    const { setSearch, setUnsortedFriends } = useStoreActions(actions => ({\r\n        setSearch: actions.setSearch,\r\n        setUnsortedFriends: actions.setUnsortedFriends\r\n    }));\r\n\r\n    const handleExitClick = (e) => {\r\n        setSearch(false);\r\n        onRouteChange(e);\r\n        socket.emit('send exit game', friendSocket);\r\n    }\r\n\r\n    return (\r\n        <nav className='nav'>\r\n            {\r\n            route === 'login' || route === 'register'\r\n            ?\r\n            <>\r\n                <button value='goToLeaderboard' onClick={onRouteChange}>Leaderboard</button>\r\n            </>\r\n            :\r\n            route === 'loggedIn'\r\n            ?\r\n            <>\r\n                <FriendRequests setUnsortedFriends={setUnsortedFriends} socket={socket} username={user.username} />\r\n                <button value='goToLeaderboard' onClick={onRouteChange}>Leaderboard</button>\r\n                <button value='logOut' onClick={onRouteChange}>Log Out</button>\r\n            </>\r\n            :\r\n            <>\r\n                {\r\n                route === 'leaderboard'\r\n                ?\r\n                    user.username\r\n                    ?\r\n                    <>\r\n                        <FriendRequests setUnsortedFriends={setUnsortedFriends} socket={socket} username={user.username} />\r\n                        <button value='goHome' onClick={onRouteChange}>Back</button>\r\n                        <button value='logOut' onClick={onRouteChange}>Log Out</button>\r\n                    </>\r\n                    :\r\n                    <>\r\n                        <button value='goToLogin' onClick={onRouteChange}>Back</button>\r\n                    </>\r\n                : //route === 'game'\r\n                <>\r\n                    <FriendRequests setUnsortedFriends={setUnsortedFriends} socket={socket} username={user.username} />\r\n                    <button value='goHome' onClick={handleExitClick}>Exit</button>\r\n                    <button value='logOut' onClick={handleExitClick}>Log Out</button>\r\n                </>\r\n                }\r\n            </>\r\n            }\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navigation;\r\n","import React, { useEffect } from 'react';\r\nimport { useStoreState, useStoreActions } from 'easy-peasy';\r\n\r\nconst ChatBox = ({ socket }) => {\r\n\r\n    const { friendSocket, opponentName, chatText } = useStoreState(state => ({\r\n        friendSocket: state.friendSocket,\r\n        opponentName: state.opponentName,\r\n        chatText: state.chatText\r\n    }));\r\n\r\n    const { setChatText } = useStoreActions(actions => ({\r\n        setChatText: actions.setChatText\r\n    }));\r\n\r\n    const chatBox = document.querySelector('.chatBox');\r\n\r\n    useEffect(() => {\r\n        document.addEventListener('keyup', handleEnterBtn);\r\n\r\n        socket.on('receive msg', message => {\r\n            handleReceivedMessage(message);\r\n        })\r\n\r\n        return () => {\r\n            socket.off('receive msg');\r\n            document.removeEventListener('keyup', handleEnterBtn);\r\n        }\r\n    },[chatText])\r\n\r\n    const handleReceivedMessage = (message) => {\r\n        const chatBox = document.querySelector('.chatBox');\r\n        if (chatBox !== null) {\r\n            const msgNode = document.createElement(\"DIV\");\r\n            msgNode.classList.add('message');\r\n            const textNode = document.createElement(\"H4\");\r\n            textNode.classList.add('opponentText');\r\n            const nameNode = document.createElement(\"H5\");\r\n            nameNode.classList.add('oppName');\r\n            const text = document.createTextNode(message);\r\n            const name = document.createTextNode(opponentName);\r\n            nameNode.appendChild(name);\r\n            textNode.appendChild(text);\r\n            msgNode.appendChild(nameNode);\r\n            msgNode.appendChild(textNode);\r\n            chatBox.appendChild(msgNode);\r\n            chatBox.scrollTop = chatBox.scrollHeight;\r\n        }\r\n    }\r\n\r\n    const handleEnterBtn = (e) => {\r\n            if (e.keyCode === 13 && chatBox !== null && chatText !== '') {\r\n                e.preventDefault();\r\n                const msgNode = document.createElement(\"DIV\");\r\n                msgNode.classList.add('message');\r\n                const textNode = document.createElement(\"H4\");\r\n                textNode.classList.add('userText');\r\n                const nameNode = document.createElement(\"H5\");\r\n                nameNode.classList.add('userName');\r\n                const text = document.createTextNode(chatText);\r\n                const name = document.createTextNode(\"You\");\r\n                nameNode.appendChild(name);\r\n                textNode.appendChild(text);\r\n                msgNode.appendChild(nameNode);\r\n                msgNode.appendChild(textNode);\r\n                chatBox.appendChild(msgNode);\r\n                setChatText('');\r\n                socket.emit('send msg', {socketid: friendSocket, message: chatText});\r\n                document.querySelector('.chatInput').value = '';\r\n                chatBox.scrollTop = chatBox.scrollHeight;\r\n            }\r\n    }\r\n\r\n    return (\r\n        <div className='chatContainer'>\r\n            <div className='chatBox'></div>\r\n            <input onChange={(e) => setChatText(e.target.value)} type='text' className='chatInput' placeholder='Type Here...' />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ChatBox;\r\n","import React from 'react';\r\nimport './footer.css';\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <footer><div className='footer'></div></footer>\r\n    )\r\n}\r\n\r\nexport default Footer;\r\n","import React, { useEffect } from 'react';\r\nimport { useStoreState, useStoreActions } from 'easy-peasy';\r\nimport UserBoard from './UserBoard';\r\nimport OpponentBoard from './OpponentBoard';\r\nimport Navigation from '../navigation/Navigation';\r\nimport ChatBox from './ChatBox';\r\nimport Footer from '../footer/Footer';\r\n\r\nconst Game = ({ socket, onRouteChange }) => {\r\n    \r\n    const { friendSocket, route, opponentName, user, checkOppStatusInterval, gameRoute, playerIsReady, opponentIsReady, yourTurn } = useStoreState(state => ({\r\n        friendSocket: state.friendSocket,\r\n        route: state.route,\r\n        opponentName: state.opponentName,\r\n        user: state.user,\r\n        checkOppStatusInterval: state.checkOppStatusInterval,\r\n        gameRoute: state.gameRoute,\r\n        playerIsReady: state.playerIsReady,\r\n        opponentIsReady: state.opponentIsReady,\r\n        yourTurn: state.yourTurn\r\n    }));\r\n\r\n    const { setSearch, setCheckOppStatusInterval, setRoute, setUnsortedFriends, setGameRoute, setPlayerIsReady, setOpponentIsReady, setYourTurn } = useStoreActions(actions => ({\r\n        setSearch: actions.setSearch,\r\n        setCheckOppStatusInterval: actions.setCheckOppStatusInterval,\r\n        setRoute: actions.setRoute,\r\n        setUnsortedFriends: actions.setUnsortedFriends,\r\n        setGameRoute: actions.setGameRoute,\r\n        setPlayerIsReady: actions.setPlayerIsReady,\r\n        setOpponentIsReady: actions.setOpponentIsReady,\r\n        setYourTurn: actions.setYourTurn\r\n    }));\r\n    \r\n    const instructions = 'Place your ships!';\r\n\r\n    useEffect(() => {\r\n        // const gamePage = document.querySelector('.gamePage');\r\n        socket.on('receive game over', () => {\r\n            // gamePage.style.setProperty('--player-turn-text', '\"You Won!\"');\r\n            // setTimeout(gameOver, 2000);\r\n            addWin();\r\n            setTimeout(() => {\r\n                window.alert('You Won!!!');\r\n                setRoute('loggedIn');\r\n            }, 300);\r\n        })\r\n\r\n        socket.on('receive exit game', () => {\r\n            setSearch(false);\r\n            window.alert('Opponent has left the game');\r\n            setRoute('loggedIn');\r\n        })\r\n\r\n        setCheckOppStatusInterval(setInterval(checkIfOpponentIsOnline, 3000));\r\n\r\n        return () => {\r\n            clearInterval(checkOppStatusInterval);\r\n            socket.off('receive ready status');\r\n            socket.off('receive game over');\r\n            socket.off('receive exit game');\r\n        }\r\n    },[])\r\n\r\n    useEffect(() => {\r\n        const gameInstructions = document.querySelector('.gamePage');\r\n        if (gameRoute === 'placeShips') {\r\n            gameInstructions.style.setProperty('--player-turn-text', `\"${instructions}\"`);\r\n        } else if (yourTurn) {\r\n            gameInstructions.style.setProperty('--player-turn-text', '\"Your Turn!\"');\r\n        } else {\r\n            gameInstructions.style.setProperty('--player-turn-text', `\"${opponentName}'s Turn!\"`);\r\n        }\r\n    },[yourTurn, gameRoute])\r\n\r\n    useEffect(() => {\r\n        // const gamePage = document.querySelector('.gamePage');\r\n        const squares = document.querySelectorAll('.userBoard .singleSquare');\r\n        let score = 0;\r\n        if (yourTurn) {\r\n            for (let square of squares) {\r\n                if (square.classList.contains('hit')) {\r\n                    score += 1;\r\n                }\r\n            }\r\n            if (score >= 17) {\r\n                // gamePage.style.setProperty('--player-turn-text', '\"You Lose\"');\r\n                socket.emit('game over', friendSocket);\r\n                setTimeout(() => {\r\n                    window.alert('You Lose');\r\n                    setRoute('loggedIn');\r\n                }, 300);\r\n            }\r\n        }\r\n    },[yourTurn])\r\n\r\n    const checkIfOpponentIsOnline = async () => {\r\n        try {\r\n            let friendIsOnline = false;\r\n            const response = await fetch(`https://calm-ridge-60009.herokuapp.com/getFriendsOnline?username=${user.username}`)\r\n            if (!response.ok) {\r\n                throw new Error('Error')\r\n            }\r\n            const onlineFriends = await response.json();\r\n            await onlineFriends.forEach(f => {\r\n                if ((f.username === opponentName)) {\r\n                    return friendIsOnline = true;\r\n                }\r\n            })\r\n            if (!friendIsOnline) {\r\n                window.alert('Opponent has left the game');\r\n                setRoute('loggedIn');\r\n            }\r\n        } catch(err) {\r\n            console.log(err);\r\n        }\r\n   }\r\n\r\n    const addWin = async () => {\r\n        try {\r\n            const res = await fetch('https://calm-ridge-60009.herokuapp.com/updateWins', {\r\n                method: 'put',\r\n                headers: {'Content-Type': 'application/json'},\r\n                body: JSON.stringify({\r\n                    username: user.username\r\n                })\r\n            })\r\n            const winsUpdated = await res.json();\r\n            if (!winsUpdated) {\r\n                throw new Error('Could not increment wins')\r\n            }\r\n        } catch(err) {\r\n            console.log(err);\r\n        }\r\n    }\r\n\r\n    socket.on('receive ready status', () => {\r\n        if (playerIsReady) {\r\n            setGameRoute('gameInProgress');\r\n        }\r\n        setOpponentIsReady(true);\r\n    })\r\n\r\n    const handleReadyButton = () => {\r\n        const ships = document.querySelectorAll('.ship');\r\n        const readyBtn = document.querySelector('.readyBtn');\r\n        for (let ship of ships) {\r\n            ship.style.cursor = 'default';\r\n        }\r\n        if (opponentIsReady) {\r\n            setGameRoute('gameInProgress');\r\n            setYourTurn(true);\r\n        } else {\r\n            readyBtn.style.opacity = '0.4';\r\n        }\r\n        setPlayerIsReady(true);\r\n        socket.emit('send ready status', friendSocket);\r\n    }\r\n\r\n    return (\r\n        <div className='gamePage'>\r\n            <Navigation setSearch={setSearch} friendSocket={friendSocket} setUnsortedFriends={setUnsortedFriends} socket={socket} username={user.username} onRouteChange={onRouteChange} route={route} />\r\n            <UserBoard yourTurn={yourTurn} setYourTurn={setYourTurn} gameRoute={gameRoute} socket={socket} friendSocket={friendSocket} route={route}/>\r\n            {\r\n            gameRoute === 'placeShips'\r\n            ? \r\n            <div className='readyBtn'>\r\n                <button onClick={handleReadyButton} className='btn'>Ready</button>\r\n            </div>\r\n            : (null)\r\n            }\r\n            <OpponentBoard yourTurn={yourTurn} setYourTurn={setYourTurn} gameRoute={gameRoute} socket={socket} friendSocket={friendSocket} route={route}/>\r\n            <ChatBox opponentName={opponentName} friendSocket={friendSocket} socket={socket} />\r\n            <Footer />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Game;\r\n","import React from 'react';\r\nimport Board from '../boards/Board';\r\nimport './homeBoard.css';\r\n\r\nconst HomeBoard = () => {\r\n    return (\r\n        <div className='board homeBoard'>\r\n{/*            <div className='rows'>\r\n                <h3>A</h3>\r\n                <h3>B</h3>\r\n                <h3>C</h3>\r\n                <h3>D</h3>\r\n                <h3>E</h3>\r\n                <h3>F</h3>\r\n                <h3>G</h3>\r\n                <h3>H</h3>\r\n                <h3>I</h3>\r\n                <h3>J</h3>\r\n            </div>\r\n\r\n            <div className='cols'>\r\n                <h3>1</h3>\r\n                <h3>2</h3>\r\n                <h3>3</h3>\r\n                <h3>4</h3>\r\n                <h3>5</h3>\r\n                <h3>6</h3>\r\n                <h3>7</h3>\r\n                <h3>8</h3>\r\n                <h3>9</h3>\r\n                <h3>10</h3>\r\n            </div>*/}\r\n\r\n            <div className='grid'>\r\n                <div className='allSqaures'>\r\n                    <Board />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default HomeBoard;\r\n\r\n","import React, { useEffect } from 'react';\r\nimport { useStoreState, useStoreActions } from 'easy-peasy';\r\nimport './findMatch.css';\r\n\r\nconst FindMatch = ({ socket }) => {\r\n    \r\n    const { currentSocket, search, findMatchInterval, user } = useStoreState(state => ({\r\n        currentSocket: state.currentSocket,\r\n        search: state.search,\r\n        findMatchInterval: state.search,\r\n        user: state.user\r\n    }));\r\n\r\n    const { setSearch, setFindMatchInterval, setOpponentName, setFriendSocket, setRoute } = useStoreActions(actions => ({\r\n        setSearch: actions.setSearch,\r\n        setFindMatchInterval: actions.setFindMatchInterval,\r\n        setOpponentName: actions.setOpponentName,\r\n        setFriendSocket: actions.setFriendSocket,\r\n        setRoute: actions.setRoute\r\n    }));\r\n\r\n    useEffect(() => {\r\n        socket.on('receive go to game', data => {\r\n            setOpponentName(data.senderName);\r\n            setFriendSocket(data.senderSocket);\r\n            setRoute('game');\r\n        })\r\n\r\n        return () => {\r\n            socket.off('receive go to game');\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (search) {\r\n            setFindMatchInterval(setInterval(searchForMatch, 1000));\r\n        }\r\n    }, [search])\r\n\r\n    const stopSearching = async () => {\r\n         try {\r\n            clearInterval(findMatchInterval);\r\n            const response = await fetch('https://calm-ridge-60009.herokuapp.com/updateSearching', {\r\n                method: 'put',\r\n                headers: {'Content-Type': 'application/json'},\r\n                body: JSON.stringify({\r\n                    username: user.username,\r\n                    search: false\r\n                })\r\n            })\r\n            if (!response.ok) {throw new Error('Problem updating searching status')}\r\n        } catch(err) {\r\n            console.log(err);\r\n        }\r\n    }\r\n\r\n    const updateSearching = async () => {\r\n        try {\r\n            const response = await fetch('https://calm-ridge-60009.herokuapp.com/updateSearching', {\r\n                method: 'put',\r\n                headers: {'Content-Type': 'application/json'},\r\n                body: JSON.stringify({\r\n                    username: user.username,\r\n                    search: !search\r\n                })\r\n            })\r\n            if (!response.ok) {throw new Error('Problem updating searching status')}\r\n            const searchChanged = await response.json();\r\n            if (searchChanged) {\r\n                setSearch(!search);\r\n            }\r\n        } catch(err) {\r\n            console.log(err);\r\n        }\r\n    }\r\n\r\n    const searchForMatch = async () => {\r\n        try {\r\n            const response = await fetch(`https://calm-ridge-60009.herokuapp.com/findMatch?username=${user.username}`)\r\n            if (!response.ok) {throw new Error('Could not find match')}\r\n            const match = await response.json();\r\n            if (match) {\r\n                await setFriendSocket(match.socketid);\r\n                await setOpponentName(match.username);\r\n                await stopSearching();\r\n                await socket.emit('send go to game',  {receiverSocket: match.socketid, senderSocket: currentSocket, senderName: user.username});\r\n                await setSearch(false);\r\n                setRoute('game');\r\n            }\r\n        } catch(err) {\r\n            console.log(err);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className='findMatchContainer'>\r\n            <button onClick={updateSearching} className='findMatch'>{search === false ? 'Find Match' : 'Searching...'}</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FindMatch;\r\n","import React, { useEffect } from 'react';\r\nimport { useStoreState, useStoreActions } from 'easy-peasy';\r\nimport './singleFriend.css';\r\n\r\nconst SingleFriend = ({ socket, name, status }) => {\r\n\r\n    const { friendSocket, route, currentSocket, user } = useStoreState(state => ({\r\n        friendSocket: state.friendSocket,\r\n        route: state.route,\r\n        currentSocket: state.currentSocket,\r\n        user: state.user\r\n    }));\r\n\r\n    const { setOpponentName, setFriendSocket, setRoute } = useStoreActions(actions => ({\r\n        setOpponentName: actions.setOpponentName,\r\n        setFriendSocket: actions.setFriendSocket,\r\n        setRoute: actions.setRoute\r\n    }));    \r\n\r\n    useEffect(() => {\r\n        socket.on('receive go to game', data => {\r\n            setOpponentName(data.senderName);\r\n            setFriendSocket(data.senderSocket);\r\n            setRoute('game');\r\n        })\r\n\r\n        socket.on('receive invite', data => handleInvite(data))\r\n\r\n        return () => {\r\n            socket.off('receive go to game');\r\n            socket.off('receive invite');\r\n        }\r\n    },[])\r\n\r\n    const handleInvite = (data) => {\r\n        const btn = document.querySelector(`.btn${data.username}`);\r\n        if (route === 'loggedIn' && btn !== null) {\r\n            if (btn.disabled === true) {\r\n                btn.style.opacity = '0.8';\r\n                btn.disabled = false;\r\n            }\r\n            btn.childNodes[0].nodeValue = \"Accept\";\r\n            setFriendSocket(data.socketid);\r\n        }\r\n    }\r\n\r\n    const sendInvite = async (e) => {\r\n        const friend = e.target.id;\r\n        try {\r\n            const response = await fetch(`https://calm-ridge-60009.herokuapp.com/findFriend?username=${friend}`)\r\n            const user1 = await response.json();\r\n            if (user1.socketid) {\r\n                socket.emit('send invite', {currentSocket: currentSocket, username: user1.username, socketid: user1.socketid});\r\n                e.target.childNodes[0].nodeValue = \"Invite sent\";\r\n                e.target.style.opacity = '0.4';\r\n                e.target.style.cursor = 'default';\r\n                e.target.disabled = true;\r\n            }\r\n        } catch(err) {\r\n            console.log(err);\r\n        }\r\n    }\r\n\r\n    const acceptInvite = (e) => {\r\n        socket.emit('send go to game',  {receiverSocket: friendSocket, senderSocket: currentSocket, senderName: user.username});\r\n        setOpponentName(e.target.id);\r\n        setRoute('game');\r\n    }\r\n\r\n    const handleOnClick = (e) => {\r\n        if (e.target.innerHTML === 'Invite') {\r\n            sendInvite(e)\r\n        } else if (e.target.innerHTML === 'Accept') {\r\n            acceptInvite(e)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div id={name} value={name} className='friendBlock'>\r\n            <div className='friendText'>\r\n                <h3>{name}</h3>\r\n                <button className={'btn' + name} onClick={handleOnClick} id={name}>Invite</button>\r\n            </div>\r\n            <div id={status} className={status}></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SingleFriend;\r\n","import React, { useEffect } from 'react';\r\nimport { useStoreState, useStoreActions } from 'easy-peasy';\r\nimport SingleFriend from './SingleFriend';\r\nimport './friends.css';\r\n\r\nconst Friends = ({ socket, showOnlineStatusToFriends }) => {\r\n    \r\n    const { unsortedFriends, user, allFriends, friendFilter, friendSearch, friendsOnline } = useStoreState(state => ({\r\n        unsortedFriends: state.unsortedFriends,\r\n        user: state.user,\r\n        allFriends: state.allFriends,\r\n        friendFilter: state.friendFilter,\r\n        friendSearch: state.friendSearch,\r\n        friendsOnline: state.friendsOnline\r\n    }));\r\n\r\n    const { setUnsortedFriends, setAllFriends, setFriendFilter, setFriendSearch, setFriendsOnline } = useStoreActions(actions => ({\r\n        setUnsortedFriends: actions.setUnsortedFriends,\r\n        setAllFriends: actions.setAllFriends,\r\n        setFriendFilter: actions.setFriendFilter,\r\n        setFriendSearch: actions.setFriendSearch,\r\n        setFriendsOnline: actions.setFriendsOnline\r\n    }));\r\n    \r\n    // Start fetching friends on component mount\r\n// -----------------------------------------------------------------------------------\r\n    useEffect(() => {\r\n        fetchFriends();\r\n        showOnlineStatusToFriends();\r\n\r\n        socket.on('update friend status', () => {\r\n            getOnlineFriends();\r\n        });\r\n\r\n        const timer = setInterval(getOnlineFriends, 3000);\r\n\r\n        return () => {\r\n            socket.off('update friend status');\r\n            clearInterval(timer);\r\n        }\r\n    }, [])\r\n//-----------------------------------------------------------------------------------\r\n    // Sort the friends when fetching has finished/unsortedFriends has updated\r\n//-----------------------------------------------------------------------------------\r\n    useEffect(() => {\r\n        sortFriends();\r\n    },[unsortedFriends, friendsOnline])\r\n    \r\n//-----------------------------------------------------------------------------------\r\n    // Sort friends. Online at top\r\n//-----------------------------------------------------------------------------------\r\n    const sortFriends = () => {\r\n        const offlineFriends = [];\r\n        const justAdded = [];\r\n        unsortedFriends.forEach(f => {\r\n            if (f.username === friendSearch) {\r\n                justAdded.push(f)\r\n            } else {\r\n                let addFriendToOffline = true;\r\n                friendsOnline.forEach(olF => {\r\n                    if (olF.username === f.username) {\r\n                        return addFriendToOffline = false;\r\n                    }\r\n                })\r\n\r\n                if (addFriendToOffline) {\r\n                    offlineFriends.push(f);\r\n                }\r\n            }\r\n        })\r\n        if (justAdded.length) {\r\n            setAllFriends(justAdded.concat(friendsOnline).concat(offlineFriends));\r\n        } else {\r\n            setAllFriends(friendsOnline.concat(offlineFriends));\r\n        }\r\n    }\r\n\r\n    const getOnlineFriends = async () => {\r\n         try {\r\n            const response = await fetch(`https://calm-ridge-60009.herokuapp.com/getFriendsOnline?username=${user.username}`)\r\n            const onlineFriends = await response.json();\r\n            setFriendsOnline(onlineFriends);\r\n        } catch(err) {\r\n            console.log(err);\r\n        }\r\n    }\r\n\r\n//-----------------------------------------------------------------------------------\r\n    // Get array of friends\r\n// -----------------------------------------------------------------------------------\r\n    const fetchFriends = async () => {\r\n\r\n        try {\r\n            const response = await fetch(`https://calm-ridge-60009.herokuapp.com/getFriends?username=${user.username}`)\r\n            if (!response.ok) {throw new Error('Problem accessing friends list')}\r\n            const friends = await response.json();\r\n            if (friends.length) {\r\n                setUnsortedFriends(friends);\r\n                getOnlineFriends();\r\n            } else {\r\n                setAllFriends([]);\r\n            }\r\n        } catch(err) {\r\n            console.log(err);\r\n        }\r\n    }\r\n//-----------------------------------------------------------------------------------\r\n    // Send friend request\r\n//-----------------------------------------------------------------------------------\r\n    const sendFriendRequest = async () => {\r\n        document.querySelector('.addFriendInput').value = '';\r\n        const friendAlert = document.querySelector('.friendsContainer');\r\n        let friendName = '';\r\n        let friendSocketId = '';\r\n        let friendsRequests = '';\r\n        let friendsRequestsArray = [];\r\n//-----------------------------------------------------------------------------------\r\n        // Check to see if friend already sent user request\r\n//-----------------------------------------------------------------------------------\r\n        try {\r\n            const res = await fetch(`https://calm-ridge-60009.herokuapp.com/getFriendRequests?username=${user.username}`);\r\n            if (!res.ok) {\r\n                throw new Error('Could not get friend requests')\r\n            }\r\n            const requests = await res.json();\r\n            if (requests !== null && requests !== '') {\r\n                const requestsArray = requests.split(',');\r\n                if (requestsArray.includes(friendSearch)) {\r\n                    friendAlert.style.setProperty('--add-friend-alert', '\"User already sent you a request\"');\r\n                    throw new Error('User already sent you a request')\r\n                }\r\n            }\r\n//-----------------------------------------------------------------------------------\r\n            // Check to see if friend exists\r\n//-----------------------------------------------------------------------------------\r\n            const res2 = await fetch(`https://calm-ridge-60009.herokuapp.com/findFriend?username=${friendSearch}`);\r\n            if (!res2.ok) {\r\n                friendAlert.style.setProperty('--add-friend-alert', '\"User does not exist\"');\r\n                throw new Error('User does not exist')\r\n            }\r\n            const user1 = await res2.json();\r\n            if (user1.username === user.username) {\r\n                friendAlert.style.setProperty('--add-friend-alert', '\"Cannot add yourself as a friend\"');\r\n                throw new Error('Cannot add self as friend')\r\n            } else if (user1.username) {\r\n                friendName = user1.username;\r\n                friendSocketId = user1.socketid;\r\n//-----------------------------------------------------------------------------------\r\n                // Add user to friend's friendrequests\r\n//-----------------------------------------------------------------------------------\r\n                let friendList = [];\r\n                if (user1.friends !== null && user1.friends !== '') {\r\n                    friendList = user1.friends.split(',');\r\n                }\r\n                if (user1.friendrequests !== null && user1.friendrequests !== '') {\r\n                    friendsRequestsArray = user1.friendrequests.split(',');\r\n                    if (friendsRequestsArray.includes(user.username)) {\r\n                        friendAlert.style.setProperty('--add-friend-alert', '\"You have already sent them a request\"');\r\n                        throw new Error('You have already sent them a request');\r\n                    } else if (friendList.includes(user.username)) {\r\n                        friendAlert.style.setProperty('--add-friend-alert', '\"User is already your friend\"');\r\n                        throw new Error('User is already your friend');\r\n                    } else {\r\n                        friendsRequestsArray.push(user.username);\r\n                        friendsRequests = user1.friendrequests.concat(`,${user.username}`);\r\n                    }\r\n                } else {\r\n                    if (friendList.includes(user.username)) {\r\n                        friendAlert.style.setProperty('--add-friend-alert', '\"User is already your friend\"');\r\n                        throw new Error('User is already your friend');\r\n                    }\r\n                    friendsRequests = user.username;\r\n                    friendsRequestsArray = [user.username];\r\n                }\r\n            }\r\n            friendAlert.style.setProperty('--add-friend-alert', '\"\"');\r\n            const res3 = await fetch('https://calm-ridge-60009.herokuapp.com/updateFriendRequests', {\r\n                method: 'put',\r\n                    headers: {'Content-Type': 'application/json'},\r\n                    body: JSON.stringify({\r\n                        requestlist: friendsRequests,\r\n                        username: friendName\r\n                    })\r\n            });\r\n            if (!res3.ok) {\r\n                throw new Error('Could not add self to friendrequests of friend');\r\n            }\r\n            const selfAdded = await res3.json();\r\n            if (selfAdded) {\r\n                socket.emit('send friend request', friendSocketId);\r\n            }\r\n        } catch(err) {\r\n            console.log(err);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className='friendsContainer'>\r\n            <div className='friendsContainerHeader'>\r\n                    <h2>Friends</h2>\r\n                    <input className='friendSearch' onChange={(e) => setFriendFilter(e.target.value)} type='text' placeholder='Enter a username'/>\r\n            </div>\r\n            <div className='friendsSection'>\r\n\r\n\r\n                <div className='friendsListContainer'>\r\n                {\r\n                    allFriends.length\r\n                    ?\r\n                    <div className='friendsList'>\r\n                    {\r\n//-----------------------------------------------------------------------------------\r\n                        // Map through the user's friends\r\n                        // Return a single friend div w/ their username and status\r\n//-----------------------------------------------------------------------------------\r\n                        allFriends.map(f => {\r\n                            if (f.username && f.username.toLowerCase().includes(friendFilter.toLowerCase())) {\r\n                                return <SingleFriend socket={socket} key={f.username} name={f.username} status={friendsOnline.includes(f) ? 'online' : 'offline'} />\r\n                            } else return null\r\n                        })\r\n                    }\r\n                    </div>\r\n                    : <h4 className='noFriends'>No friends have been added</h4>\r\n                }\r\n                </div>\r\n                <div className='addFriend'>\r\n                    <h3 className='addFriendText' >Add a friend</h3>\r\n                    <input className='addFriendInput' onChange={(e) => setFriendSearch(e.target.value)} type='text' placeholder='Enter a username'/>\r\n                    <button className='friendRequestBtn' onClick={sendFriendRequest}>Send Request</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Friends;\r\n","import React from 'react';\r\nimport './friends.css';\r\n\r\nconst FriendsHome = ({onRouteChange}) => {\r\n    return (\r\n    <div className='friendsContainer'>\r\n        <div className='friendsContainerHeader'>\r\n            <h2>Friends</h2>\r\n        </div>\r\n        <div className='logToSeeFriendsText'>\r\n            <h3>Log in to add and view friends here</h3>\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default FriendsHome;\r\n","import { useStoreState, useStoreActions } from 'easy-peasy';\r\n\r\nconst Login = ({onRouteChange, loadUser }) => {\r\n    \r\n    const { currentSocket, userName, password } = useStoreState(state => ({\r\n        currentSocket: state.currentSocket,\r\n        userName: state.userName,\r\n        password: state.password\r\n    }));\r\n\r\n    const { setUserName, setPassword } = useStoreActions(actions => ({\r\n        setUserName: actions.setUserName,\r\n        setPassword: actions.setPassword\r\n    }));\r\n    \r\n    const login = document.querySelector('.login');\r\n\r\n    const onSubmitLogin = async (e) => {\r\n        try {\r\n            const res = await fetch('https://calm-ridge-60009.herokuapp.com/login', {\r\n              method: 'put',\r\n              headers: {'Content-Type': 'application/json'},\r\n              body: JSON.stringify({\r\n                username: userName,\r\n                password: password,\r\n                socketid: currentSocket\r\n              })\r\n            })\r\n            const user = await res.json();\r\n            if (user.username) {\r\n                loadUser(user);\r\n                onRouteChange(e);\r\n            } else if (user === 'no socketid') {\r\n                login.style.setProperty(\"--reg-log-alert\", '\"Server error. Please try again\"');\r\n            } else if (login !== null) {\r\n                login.style.setProperty(\"--reg-log-alert\", '\"The username or password you entered is incorrect\"');\r\n            }\r\n        } catch(err) {\r\n            console.log(err);\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <div className='login'>\r\n            <h1>Log In</h1>\r\n            <div className='username'>\r\n                <h4>Username</h4>\r\n                <input onChange={(e) => setUserName(e.target.value)} type='text' />\r\n            </div>\r\n            <div className='password'>\r\n                <h4>Password</h4>\r\n                <input onChange={(e) => setPassword(e.target.value)} type='password' />\r\n            </div>\r\n            <button className='loginBtn' value='login' onClick={onSubmitLogin}>Login</button>\r\n            <button value='goToRegister' onClick={onRouteChange} className='changeLogReg'>Register</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;\r\n","import { useStoreState, useStoreActions } from 'easy-peasy';\r\n\r\nconst Register = ({ onRouteChange, loadUser }) => {\r\n\r\n    const { currentSocket, userName, password } = useStoreState(state => ({\r\n        currentSocket: state.currentSocket,\r\n        userName: state.userName,\r\n        password: state.password\r\n    }));\r\n\r\n    const { setUserName, setPassword } = useStoreActions(actions => ({\r\n        setUserName: actions.setUserName,\r\n        setPassword: actions.setPassword\r\n    }));\r\n\r\n    const register = document.querySelector('.register');\r\n\r\n    const onSubmitRegister = (e) => {\r\n        if (userName.length < 5) {\r\n            register.style.setProperty(\"--reg-log-alert\", '\"Username must be at least 5 characters\"');\r\n        } else if (userName.length > 10) {\r\n            register.style.setProperty(\"--reg-log-alert\", '\"Username cannot be more than 10 characters\"');\r\n        } else if (password.length < 5) {\r\n            register.style.setProperty(\"--reg-log-alert\", '\"Password must be at least 5 characters\"');\r\n        } else {\r\n            fetch('https://calm-ridge-60009.herokuapp.com/register', {\r\n              method: 'post',\r\n              headers: {'Content-Type': 'application/json'},\r\n              body: JSON.stringify({\r\n                username: userName,\r\n                password: password,\r\n                socketid: currentSocket\r\n              })\r\n            })\r\n            .then(response => response.json())\r\n            .then(user => {\r\n              if (user.username) {\r\n                loadUser(user);\r\n                onRouteChange(e);\r\n              } else if (user === 'no socketid') {\r\n                register.style.setProperty(\"--reg-log-alert\", '\"Server error. Please try again\"');\r\n                }\r\n                else if (!user.ok) {\r\n                    register.style.setProperty(\"--reg-log-alert\", '\"Username has already been taken\"');\r\n                    console.log(user);\r\n              }\r\n            })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className='register'>\r\n            <h1>Register</h1>\r\n            <div className='username'>\r\n                <h4>Username</h4>\r\n                <input onChange={(e) => setUserName(e.target.value)} type='text' />\r\n            </div>\r\n            <div className='password'>\r\n                <h4>Password</h4>\r\n                <input onChange={(e) => setPassword(e.target.value)}type='password' />\r\n            </div>\r\n            <button className='registerBtn' value='register' onClick={onSubmitRegister}>Register</button>\r\n            <button value='goToLogin' onClick={onRouteChange} className='changeLogReg'>Login</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register;\r\n\r\n","import React, { useEffect } from 'react';\r\nimport { useStoreState, useStoreActions } from 'easy-peasy';\r\n\r\nimport Navigation from '../navigation/Navigation';\r\n\r\nconst Leaderboard = ({ onRouteChange, socket }) => {\r\n\r\n    const { topFive } = useStoreState(state => ({\r\n        topFive: state.topFive\r\n    }));\r\n\r\n    const { setTopFive } = useStoreActions(actions => ({\r\n        setUnsortedFriends: actions.setUnsortedFriends\r\n    }));\r\n\r\n    useEffect(() => {\r\n        getTopPlayers();\r\n    },[])\r\n\r\n    const getTopPlayers = async () => {\r\n        const tempArr = [];\r\n        for (let i = 0; i < 5; i++) {\r\n            const response = await fetch(`https://calm-ridge-60009.herokuapp.com/getTopFive?userNum=${i}`)\r\n            if (!response.ok) {\r\n                throw new Error('Error')\r\n            }\r\n            const user1 = await response.json();\r\n            tempArr.push({name: user1.username, wins: user1.wins});\r\n        }\r\n        setTopFive(tempArr);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Navigation onRouteChange={onRouteChange} socket={socket} />\r\n            {\r\n            topFive.length\r\n            ?\r\n            <div className='topFiveContainer'>\r\n                <div className='topFive'>\r\n                    {\r\n                    topFive.map(player => {\r\n                        return <h3 key={player.name} className='LBplayer'> {player.name} : <span className='wins'>{player.wins}</span> wins </h3>\r\n                    })\r\n                    }\r\n                </div>\r\n            </div>\r\n            : null\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Leaderboard;\r\n","import io from 'socket.io-client';\r\nexport const socket = io('https://safe-mesa-81492.herokuapp.com/');       //,{autoConnect: false}\r\n","import React, { useEffect } from 'react';\nimport { useStoreState, useStoreActions } from 'easy-peasy';\nimport Game from './components/boards/Game';\nimport HomeBoard from './components/homeBoard/HomeBoard';\nimport FindMatch from './components/findMatch/FindMatch';\nimport Friends from './components/friends/Friends';\nimport FriendsHome from './components/friends/FriendsHome';\nimport Login from './components/logReg/Login';\nimport Register from './components/logReg/Register';\nimport Leaderboard from './components/leaderboard/Leaderboard';\nimport Navigation from './components/navigation/Navigation';\nimport Footer from './components/footer/Footer';\nimport { socket } from './socket/socketImport';\nimport './logReg.css';\nimport './homePageLogged.css';\nimport './gamePage.css';\nimport './leaderboard.css';\n\nfunction App() {\n    const { route, user, friendSocket, findMatchInterval, checkOppStatusInterval, search, inviteSent, inviteReceived } = useStoreState(state => ({\n        route: state.route,\n        user: state.user,\n        friendSocket: state.friendSocket,\n        findMatchInterval: state.findMatchInterval,\n        checkOppStatusInterval: state.checkOppStatusInterval,\n        search: state.search,\n        inviteSent: state.inviteSent,\n        inviteReceived: state.inviteReceived\n    }));\n\n    const { setRoute, setUser, setCurrentSocket, setSearch, setInviteSent, setInviteReceived } = useStoreActions(actions => ({\n        setRoute: actions.setRoute,\n        setUser: actions.setUser,\n        setCurrentSocket: actions.setCurrentSocket,\n        setSearch: actions.setSearch,\n        setInviteSent: actions.setInviteSent,\n        setInviteReceived: actions.setInviteReceived\n    }));\n\n    const onRouteChange = async (e) => {\n        switch(e.target.value) {\n            case 'logOut':\n                if (user.username) {\n                    await setSearch(false);\n                    await removeUserSocket(true);\n                }\n                setUser({username: '', wins: 0});\n                setRoute('login');\n                break;\n            case 'goToRegister':\n                if (user.username) {\n                    await removeUserSocket(true);\n                }\n                setUser({username: '', wins: 0});\n                setRoute('register');\n                break;\n            case 'goToLogin':\n                if (user.username) {\n                    await removeUserSocket(true);\n                }\n                setUser({username: '', wins: 0});\n                setRoute('login');\n                break;\n            case 'goHome':\n                setRoute('loggedIn');\n                break;\n            case 'goToLeaderboard':\n                setRoute('leaderboard');\n                break;\n            case 'login':\n                setRoute('loggedIn');\n                break;\n            case 'register':\n                setRoute('loggedIn');\n                break;\n            case 'game':\n                if (user.username) {\n                    setSearch(false);\n                }\n                setRoute('game');\n                break;\n            default:\n                if (user.username) {\n                    setSearch(false);\n                    removeUserSocket(true);\n                }\n                setRoute('login');\n        }\n    }\n\n    const stopSearching = async () => {\n        try {\n           const response = await fetch('https://calm-ridge-60009.herokuapp.com/updateSearching', {\n               method: 'put',\n               headers: {'Content-Type': 'application/json'},\n               body: JSON.stringify({\n                   username: user.username,\n                   search: false\n               })\n           })\n           if (!response.ok) {throw new Error('Problem updating searching status')}\n       } catch(err) {\n           console.log(err);\n       }\n   }\n\n    const updateLastOnline = async () => {\n        try {\n            const response = await fetch(`https://calm-ridge-60009.herokuapp.com/updateOnlineStatus`, {\n                method: 'put',\n                headers: {'Content-Type': 'application/json'},\n                body: JSON.stringify({\n                    username: user.username\n                })\n            })\n            if (!response.ok) {\n                throw new Error('Error');\n            }\n        } catch(err) {\n            console.log(err);\n        }\n    }\n\n    useEffect(() => {\n        socket.on('connect', () => {\n            setCurrentSocket(socket.id);\n        })\n\n        return () => {\n            socket.off('connect');\n        }\n    }, [])\n\n    useEffect(() => {\n        let myInterval;\n        if (user.username.length) {\n            myInterval = setInterval(updateLastOnline, 1000);\n        } else {\n            clearInterval(myInterval);\n        }\n\n        return () => {\n            clearInterval(myInterval);\n        }\n    }, [user])\n\n    useEffect(() => {\n        if (!search && findMatchInterval > 0) {\n            clearInterval(findMatchInterval);\n            stopSearching();\n        }\n    }, [search])\n\n    useEffect(() => {\n        if (route !== 'game') {\n            clearInterval(checkOppStatusInterval);\n        } else {\n            clearInterval(findMatchInterval);\n        }\n    }, [route])\n\n\n    const showOnlineStatusToFriends = async () => {\n        try {\n            const response1 = await fetch(`https://calm-ridge-60009.herokuapp.com/getFriends?username=${user.username}`)\n            if (!response1.ok) {\n                throw new Error('Error')\n            }\n            const friends = await response1.json();\n            if (friends.length) {\n                for (let f of friends) {\n                    if (f.socketid) {\n                        socket.emit('update user status', f.socketid);\n                    }\n                }\n            }\n        } catch(err) {\n            console.log(err);\n        }\n    }\n\n    const loadUser = (user) => {\n        setUser({ username: user.username, wins: user.wins })\n    }\n\n    const removeUserSocket = async (show) => {\n        const res = await fetch('https://calm-ridge-60009.herokuapp.com/removeUserSocket', {\n          method: 'put',\n          headers: {'Content-Type': 'application/json'},\n          body: JSON.stringify({\n            username: user.username\n          })\n        })\n        const socketRemoved = await res.json();\n        if (socketRemoved && show) {\n            showOnlineStatusToFriends();\n        }\n    }\n\n    window.addEventListener('beforeunload', (e) => {\n        e.preventDefault();\n        stopSearching();\n        if (route === 'game') {\n            socket.emit('send exit game', friendSocket);\n        }\n        removeUserSocket(false);\n        e.returnValue = '';\n    })\n\n    document.onkeydown = (e) => {\n        const loginBtn = document.querySelector('.loginBtn');\n        const registerBtn = document.querySelector('.registerBtn');\n        const logUsername = document.querySelector('.login > .username > input');\n        const registerUsername = document.querySelector('.register > .username > input');\n        const logPassword = document.querySelector('.login > .password > input');\n        const registerPassword = document.querySelector('.register > .password > input');\n        const friendRequestBtn = document.querySelector('.friendRequestBtn');\n\n        if ((e.code === 'Enter') && (route === 'login' || route === 'register')) {\n            e.preventDefault();\n            if ((logUsername?.value?.length && logPassword?.value?.length) || (registerUsername?.value?.length && registerPassword?.value?.length)) {\n                route === 'login'\n                ? loginBtn.click()\n                : registerBtn.click()\n            }\n        } else if ((e.code === 'Enter') && (route === 'loggedIn')) {\n            e.preventDefault();\n            friendRequestBtn.click();\n        }\n    };\n\n    return (\n        route === 'login' || route === 'register'\n        ?\n        <div className='logRegPage'>\n            <Navigation socket={socket} onRouteChange={onRouteChange} />\n            <FriendsHome onRouteChange={onRouteChange}/>\n            <div className='homeText'>\n                <h1>Battleship</h1>\n            </div>\n            <div className='logReg'>\n                {\n                    route === 'login'\n                    ? <Login loadUser={loadUser} onRouteChange={onRouteChange}/>\n                    : <Register loadUser={loadUser} onRouteChange={onRouteChange}/>\n                }\n            </div>\n            <Footer />\n        </div>\n        :\n        <>\n            {\n            route === 'loggedIn'\n            ?\n            <div className='homePageLogged'>\n                <Navigation socket={socket} onRouteChange={onRouteChange} />\n                <Friends socket={socket} showOnlineStatusToFriends={showOnlineStatusToFriends} />\n                <div className='matchAndBoard'>\n                    <FindMatch socket={socket} />\n                    <HomeBoard />\n                </div>\n                <Footer />\n            </div>\n            :\n            <>\n                {\n                route === 'leaderboard'\n                ?\n                <div className='leaderboard'>\n                    <Leaderboard onRouteChange={onRouteChange} socket={socket} />\n                    <Footer />\n                </div>\n                :\n                <Game socket={socket} onRouteChange={onRouteChange} />\n                }\n            </>\n            }\n        </>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import 'react-app-polyfill/ie11';\nimport 'react-app-polyfill/ie9';\nimport 'react-app-polyfill/stable';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { StoreProvider, createStore } from 'easy-peasy';\nimport model from './model';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst store = createStore(model);\n\nReactDOM.render(\n  <StoreProvider store={store}>\n        <App />\n    </StoreProvider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}